Перед запуском подразумевается наличие установленного пакета Ansible на хосте, откуда запускается плейбук.

Изменяемые переменные, все вынесены в  **group_vars/all**

Перед запуском требуется указать ip адрес сервера в hosts и имя пользователя для аутентификации

так же требуется в базовый Ansible доустановить модули через ansible-galaxy 
```
ansible-galaxy collection install community.docker
ansible-galaxy collection install community.general
```
Запуск установки гитлаба на сервер: 
```
ansible-playbook -i hosts gitlab.yml -kK
```

Для отдельной установки докера на сервер требуется отредактировать файл gitlab.yml и оставить исполняемую роль только docker

Для обновления Gitlab'a до новой версии требуется придерживаться цепочки обновлений: 
```
13.12.10 -> 13.12.15 -> 14.0.12 -> 14.3.6 -> 14.9.5 -> 14.10.5 -> 15.0.5 -> 15.1.6 -> 15.4.6 -> 15.8.0
```

Для запуска обновлений надо поменять тэг, в перечне переменных gitlab_image, закоментировать все job в roles/gitlab/tasks/main.yaml кроме Install Gitlab container и повторно выполнить 
```
ansible-playbook -i hosts gitlab.yml -kK
```